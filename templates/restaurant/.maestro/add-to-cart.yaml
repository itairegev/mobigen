appId: com.mobigen.restaurant
tags:
  - critical
  - cart
  - menu
---
# Add items to cart with customizations
- launchApp:
    clearState: true

# Navigate to Menu tab
- tapOn: "Menu"
- assertVisible:
    id: "category-all"

# Tap on first menu item
- tapOn:
    id: "menu-item-.*"
    regex: true
    index: 0

# Wait for item detail screen to load
- assertVisible: "Quantity"
- assertVisible:
    id: "add-to-cart-button"

# Increase quantity
- tapOn:
    id: "quantity-increase"
- assertVisible: "2"

# Add special instructions
- tapOn:
    id: "special-instructions-input"
- inputText: "No onions, please"

# Add to cart
- tapOn:
    id: "add-to-cart-button"

# Should navigate back to menu
- assertVisible:
    id: "category-all"

# Navigate to Cart tab
- tapOn: "Cart"

# Verify item is in cart
- assertVisible:
    id: "cart-item-.*"
    regex: true

# Verify quantity is correct (2 items)
- assertVisible: "2 items"

# Verify special instructions are shown
- assertVisible: "No onions, please"

# Test quantity controls
- tapOn:
    id: "cart-item-.*-increase"
    regex: true
- assertVisible: "3 items"

- tapOn:
    id: "cart-item-.*-decrease"
    regex: true
- assertVisible: "2 items"

# Verify cart summary is visible
- assertVisible:
    id: "cart-summary"

# Verify checkout button is available
- assertVisible:
    id: "checkout-button"
