appId: com.mobigen.restaurant
tags:
  - critical
  - checkout
  - order
---
# Complete checkout flow
- launchApp:
    clearState: true

# Add item to cart first
- tapOn: "Menu"
- tapOn:
    id: "menu-item-.*"
    regex: true
    index: 0
- assertVisible:
    id: "add-to-cart-button"
- tapOn:
    id: "add-to-cart-button"

# Navigate to Cart
- tapOn: "Cart"
- assertVisible:
    id: "cart-item-.*"
    regex: true

# Proceed to checkout
- tapOn:
    id: "checkout-button"

# Verify checkout screen
- assertVisible: "Order Type"
- assertVisible:
    id: "delivery-toggle"

# Verify delivery is selected by default
- assertVisible: "Delivery Address"

# Select pickup instead
- tapOn:
    id: "delivery-toggle"
# Note: This should toggle to pickup, address section should disappear

# Test tip selector
- assertVisible:
    id: "tip-selector"

# Tap on 15% tip option
- tapOn:
    text: "15%"

# Add customer notes
- tapOn:
    id: "customer-notes-input"
- inputText: "Please ring the doorbell"

# Verify order summary is displayed
- assertVisible:
    id: "checkout-summary"

# Verify place order button
- assertVisible:
    id: "place-order-button"

# Place the order
- tapOn:
    id: "place-order-button"

# Should show order confirmation alert
# Note: In a real test with backend, we'd verify the success message
# For now, this validates the flow up to order placement
