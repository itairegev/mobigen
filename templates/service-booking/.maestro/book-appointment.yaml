appId: com.mobigen.servicebooking
tags:
  - critical
  - booking
  - appointment
  - e2e
---
# Test: Complete Booking Flow
# Verifies the entire appointment booking process from service selection to confirmation

- launchApp:
    clearState: true

# Step 1: Browse and select a service
- tapOn: "Services"
- assertVisible:
    id: "category-all"

# Open first service
- tapOn:
    text: ".*min"
    regex: true
    index: 0

- assertVisible: "Service Details"

# Step 2: Start booking
- tapOn:
    id: "book-now-button"

# Step 3: Select staff member
- assertVisible: "Select Staff Member"
- assertVisible: "Choose your preferred staff member"

# Select first staff member
- tapOn:
    text: ".*"
    regex: true
    index: 2

# Continue to date/time selection
- tapOn:
    id: "continue-button"

# Step 4: Select date and time
- assertVisible: "Select Date & Time"
- assertVisible: "Select Date"

# Verify calendar picker is present
- assertVisible:
    id: "calendar-picker"

# Select a date (tap on calendar)
# Note: Actual date selection depends on calendar implementation
# We'll tap in the calendar area
- tapOn:
    id: "calendar-picker"

# After date selection, time slots should appear
- assertVisible: "Select Time"

# Verify time slot grid appears
- assertVisible:
    id: "time-slot-grid"

# Select a time slot (first available)
- tapOn:
    id: "time-slot-grid"

# Continue to confirmation
- tapOn:
    id: "continue-button"

# Step 5: Confirm booking
- assertVisible: "Confirm Booking"

# Verify booking summary is present
- assertVisible:
    id: "booking-summary"

# Verify notes input is available
- assertVisible:
    id: "notes-input"

# Optionally add notes
- tapOn:
    id: "notes-input"
- inputText: "Please call when you arrive"

# Verify cancellation policy is shown
- assertVisible: "Cancellation Policy"

# Verify confirm button is present
- assertVisible:
    id: "confirm-booking-button"

# Note: We don't actually confirm to avoid creating test data
# The test validates the UI flow is complete and functional
